# 브라우저 저장소(Browser Storage)(쿠키와 세션 캐시)에 대해 말해주세요.

- 브라우저 저장소(Browser Storage)는 웹 브라우저에서 데이터를 저장하는 기능.
- 이 기능을 사용하면 브라우저를 닫았다가 다시 열어도 데이터를 유지할 수 있습니다.
- 대표적인 브라우저 저장소에는 쿠키(Cookie), 로컬 스토리지(Local Storage), 세션 스토리지(Session Storage) 등이 있습니다.

## 쿠키 vs 세션

- 데이터의 저장 위치: 쿠키는 클라이언트, 세션은 서버
- 보안 : 저장 위치 때문에 쿠키는 스니핑에 당할 우려가 있지만,세션은 쿠키를 이용해 세션 아이디만 저장하고 서버에서 처리하기 때문에 보안성은 쿠키<세션
- 라이프사이클 : 쿠키는 브라우저를 종료해도 만료기간이 남아있으면 존재,세션은 브라우저 종료 시 만료기간에 상관없이 종료
- 속도: 쿠키>세션

## 세션(Session)

- 서버측에서 관리
- 서버에서 클라이언트를 구분하기 위해 세션 ID 를 부여하며, 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지
- 사용자 정보를 파일 브라우저에 저장하는 쿠키와 달리 세션은 서버 측에서 관리한다.
- 서버에서 클라이언트를 구분하기 위해 세션 ID를 부여하며, 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지한다.
- 접속 시간에 제한을 두어 일정 시간 응답이 없다면 정보가 유지되지 않게 설정 가능하다.
- 데이터를 서버에 두기 때문에 쿠키보다 보안에 좋지만, 사용자가 많아질수록 서버 메모리를 많이 차지하게 된다.

## 쿠키(Cookie)

클라이언트(브라우저) 로컬에 저장되는 키와 값 형태의 작은 파일로, 이름, 값, 만료시간, 경로정보가 들어있다.클라이언트의 상태 정보를 로컬에 저장했다가 참조한다.

- 만료 기한이 있는 키-값 저장소이다.
- 클라이언트에 300개까지 쿠키저장 가능, 하나의 도메인당 20개의 값만 가질 수 있으며, 하나의 쿠키 값은 4KB 까지 저장이 가능하다.
- 서버와 클라이언트 간의 상태 정보를 유지하기 위해 사용되는 작은 데이터 파일
- 쿠키는 브라우저에 저장되며, 웹사이트에서 쿠키를 읽거나 쓸 수 있다.
- 쿠키는 주로 로그인 정보나 사용자 환경 설정 등을 저장하는 데 사용됩니다.

### 쿠키의 구성요소

- 이름: 각각의 쿠키를 구별하는데 사용되는 이름
- 값(value):쿠키의 이름과 관련된 값
- 유효시간(expires): 쿠키의 유지기간
- 도메인(Domain):쿠키를 전송할 도메인
- 경로(Path):쿠키를 전송할 요청 경로

### 쿠키의 목적

- 세션관리: 서버에 저장해야할 로그인, 장바구니, 게임 스코어 등의 정보 관리
- 사용자 맞춤: 사용자가 선호하는 옵션이나 테마 등의 세팅
- 사용자 추적: 사용자의 행동을 분석하고 기록하는 용도

### 브라우저에서 쿠키 확인하는 방법

개발자 도구> 어플리케이션 > storages > cookies

## 웹스토리지

- 클라이언트(브라우저)에 데이터를 저장할 수 있도록 HTML5 부터 추가된 저장소
- 간단한 Key-Value 스토리지 형태
- 쿠키와 달리 자동 전송 위험성이 없다
- 오리진(Origin)(도메인, 프로토콜, 포트) 단위로 접근이 제한되는 특성 덕분에 CSRF 로부터 안전
  쿠키보다 큰 저장 용량 지원(모바일 2.5MB, 데스크탑 5~10MB)
- 서버가 HTTP 헤더를 통해 스토리지 객체를 조작할 수 없음(자바스크립트 내에서만 수행가능)
- 오직 문자형(String) 데이터 타입만 지원
- 로컬스토리지, 세션스토리지가 있으며 같은 스토리지 객체를 상속하기 때문에 메서드가 동일

### 웹스토리지 사용이유

- 쿠키와 다르게 웹 스토리지 객체는 네트워크 요청 시 서버로 전송되지 않는다.이러한 특징 때문에 쿠키보다 더 많은 자료를 보관할 수 있으며 개발자는 브라우저 내 웹 스토리지 구성 방식을 설정할 수 있다.
- 쿠키와 또 다른 점은 위에 적혀있 듯 서버가 HTTP 헤더를 통해 스토리지 객체를 조작할 수 없다는 것이다. 웹 스토리지 객체 조작은 모두 자바스크립트 내에서만 수행된다.

### 로컬 스토리지(Local Storage)

- 만료기한이 없는 브라우저 내에 키-값 쌍 저장소. 10MB까지 저장가능.(세부적인 용량은 다르다. )
- 로컬 스토리지는 브라우저를 닫았다가 다시 열어도 데이터유지
- 로컬 스토리지는 쿠키보다 용량이 크고, 서버에 전송되지 않으므로 보안성이 높다.

### 세션 스토리지(Session Storage)

- 로컬 스토리지와 비슷하지만, 세션이 끝나면 저장된 데이터가 삭제.
- 만료기한이 없는 브라우저 내에 키-값 쌍 저장소. 5MB까지 저장가능(세부적인 용량은 다르다. )
- 탭단위로 세션스토리지를 생성, 탭을 닫을때 해당 데이터가 삭제
- 세션 스토리지는 보통 로그인 정보 등을 저장하는 데 사용됩니다.

브라우저 저장소는 브라우저를 닫았다가 다시 열어도 데이터를 유지할 수 있기 때문에, 사용자 경험을 개선하고 빠르고 효율적인 웹 애플리케이션을 만드는 데 도움이 됩니다.

세션으로 로그인 구현하면 쿠키를 사용한다.

## Reference

면접을 위한 CS전공지식 노트

https://joyhong-91.tistory.com/51

https://velog.io/@tnrud4685/TIL-%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98-%EC%9B%B9%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%EB%9E%80-%EC%B0%A8%EC%9D%B4%EC%A0%90
