이제 캐시가 어떻게 동작되는지 배웠으니

관련된 문제점을 고쳐보겠습니다

이미지가 보이지 않는 이유를 살펴 보겠습니다

배포 환경 서버에서

새로운 음식을 등록하면

왜 이미지가 보이지 않을까요

우리가 이미지를

public 폴더안의 images 폴더에 저장하고 있기 때문에

이미지가 보이지 않는 것 입니다

이 방식의 문제점은 개발 환경에서는

이 폴더에 접근이 가능하지만

배포 환경에서는

여기 있는 .next 폴더에 복사가 되고

이 .next 폴더 안에

캐싱된 페이지 등이 모두 들어있고

NextJS 배포 환경에서

이 폴더가 사용됩니다

그런데 새로운 이미지를 public 폴더에

저장하게 되면 배포 환경 서버는

이 폴더에 관여하지 않기 때문에 무시됩니다

그러므로 다음 프로젝트를 배포할 때

이 public 폴더는 엄밀히 말해

배포하지 않아도 됩니다

NextJS는 관여하지 않는 폴더이기 때문입니다

그러면 우리 어플리케이션에서는

이미지를 public 폴더에 저장하기 때문에 문제가 됩니다

이러한 동작은 NextJS 공식 문서에

설명되어 있습니다

그리고 여기에서는 런타임에 생성된

모든 파일은 AWS S3와 같은

파일 저장 서비스를 이용하는 것을

추천하고 있습니다

S3와 같은 기능을 이용하는 것은

본 강의의 범위를 벗어나므로

이 문제점은 무시하도록 하겠습니다

그러나 다음 강의에서는

사용자가 생성한 이미지를

저장하고 이용하기 위한

AWS S3의 사용법에 관한 텍스트 강의를 보실 수 있습니다

여기서는 구현하지 않으셔도 됩니다

이 데모 프로젝트에서는 무시하셔도 됩니다

그러나 어떻게 동작하는지 배우고 싶으시다면

다음 강의를 시청하시면 됩니다
