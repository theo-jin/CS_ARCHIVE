# 코어 웹 바이탈(CWV)이란? 코어 웹 바이탈을 개선하는방법 하나씩 말씀해주세요
핵심 웹 바이탈(CWV)은 세 가지 웹 성능 지표의 집합.

- LCP: 로딩 성능을 측정하는 항목
- FID: 페이지의 응답성을 측정하는 항목
- CLS: 시각적 안정성을 측정하는 항목
## 코어 웹 바이탈(CWV)
핵심 웹 바이탈(CWV)은 세 가지 웹 성능 지표의 집합. 페이지의 로딩 속도, 응답성, 안정성을 평가하여 사용자를 위해 측정하는 항목

#### 메트릭이란?
성능은 상대적일 수 있다.
왜냐하면 동일한 사이트이더라도 빠른 네트워크를 사용하는 사용자에게는 빠르고, 느린 네트워크를 사용하는 사용자에게는 느리게 동작할 수 있기 때문이다.
따라서, 이러한 상대성을 줄이고 정확하고 정량적이며 객관적인 기준에서 성능을 비교할 수 있어야하는데 이러한 객관적인 기준을 '메트릭'이라고 한다

### 1. LCP (Largest Contentful Paint)
최대로 의미 있는 페인트는 일반적으로 이미지 또는 텍스트 블록과 같은 웹 페이지의 가장 큰 부분을 로드하는 데 걸리는 시간을 측정합니다.

Google의 가이드라인에서는 2.5초 미만인 경우 LCP 측정값을 '양호'로 분류합니다. 하지만 빠르면 빠를수록 좋습니다.
LCP(Largest Contentful Paint, 최대 콘텐츠풀 페인트): 로딩 성능을 측정한다. 최적화된 사용자 경험을 제공하기 위해서는 페이지가 처음으로 로딩된 후 2.5초 이내에 LCP 가 발생해야 한다.

LCP 개선 방안으로는 콘텐츠의 레이아웃을 변경하는 것이 있습니다. 중요한 콘텐츠는 상단에 배치하거나, 중요한 부분을 가벼운 형식으로 배치하는 것도 좋습니다.

### 2. FID (First Input Delay)
첫 번째 입력 지연(FID)은 사용자가 웹 페이지와 처음으로 상호 작용을 시도한 후 웹 페이지가 응답할 때까지의 시간을 측정한 값입니다. 즉, FID는 사용자가 화면을 처음 클릭하고 무언가를 실행할 수 있는 속도를 정량화합니다. Google의 가이드라인에 따르면 '양호한' FID는 100밀리초 이하입니다.
FID(First Input Delay, 최초 입력 지연): 상호 작용을 측정한다. 우수한 사용자 경험 제공을 위해 페이지의 FID가 100밀리초 이하여야 한다.

FID 개선 방안으로는 코드를 최소화하는 것이 있습니다. 불필요한 코드는 제거하고 필요한 코드만 전송하는 것이죠. 또한 스타일과 레이아웃을 최대한 단순하게 만드는 것도 좋은 방안이 될 수 있습니다

### 3. CLS (Cumulative Layout Shift)
CLS는 웹 페이지가 로드될 때 "주변에서 얼마나 많이 이동하는지" 측정합니다. 특히 페이지 레이아웃에서 가장 큰 "버스트" 변화를 측정합니다. Google의 가이드라인에 따르면 '양호한' CLS 측정값은 0.1 이하입니다.

레이아웃 이동은 페이지 콘텐츠가 원래 표시된 위치에서 위나 아래나 다른 방향으로 이동하는 것을 말합니다. 이 메트릭의 맥락에서 버스트는 서로 1초 이내에 발생하는 레이아웃 이동 그룹을 의미합니다. 버스트는 최대 5초까지 가능하며 레이아웃 이동 횟수에 제한 없이 포함될 수 있습니다.

CLS(Cumulative Layout Shift, 누적 레이아웃 시프트): 시각적 안정성을 측정한다. 우수한 사용자 경험을 제공하려면 페이지에서 0.1 이하의 CLS를 유지해야 한다.

CLS 개선 방안으로는 시각적으로 안정적인 페이지 로딩이 가능하도록 레이아웃 배치를 변경하는 것이 좋습니다. 특히 과도한 변환 애니메이션의 경우 자제하는 것이 좋습니다. 즉 비디오 요소에 주의를 기울이는 것이 중요합니다.

## 핵심 웹 바이탈을 개선하는 방법
### LCP를 개선하는 방법
- 콘텐츠 전송 네트워크(CDN) 사용: CDN은 전 세계 곳곳에 콘텐츠를 캐시하여 콘텐츠가 사용자에게 더 빨리 도달하도록 합니다.
- 이미지 최적화: 이미지는 페이지에서 가장 큰 요소인 경우가 많습니다.이미지 파일 크기를 줄이면 이미지 로드 시간을 단축하는 데 도움이 될 수 있습니다.
- 지연 로딩 구현: 지연 로딩에서는 웹 사이트 리소스가 사용자가 필요로 할 때만 로드됩니다.이 기능은 웹 사이트 로딩을 어느 정도 효율적으로 만들어 주지만, 연구 결과에 따르면 이 기능을 과도하게 사용하면 LCP가 낮아진다고 합니다.이러한 이유로 Google에서는 지연 로딩 이미지를 '접는 부분 아래', 즉 사용자가 스크롤해야 볼 수 있는 웹 페이지 부분으로 제한할 것을 권장합니다.

### FID 개선 방법
- JavaScript 함수 크기 줄이기: 코드가 많은 동적 웹 페이지는 브라우저에서 코드를 실행하기 전에 모든 코드가 로드될 때까지 기다려야 하므로 입력 지연이 발생할 수 있습니다.JavaScript 최소화를 사용하면 이 프로세스를 더 빠르게 진행할 수 있습니다.
- 정적 웹 페이지 구축: 정적 HTML 웹 페이지가 동적 페이지보다 훨씬 빠르게 로드되며, 특히 CDN을 통해 배포할 경우 더욱 그렇습니다.정적 사이트 생성기 또는 정적 콘텐츠를 강조하는 개발 철학인 Jamstack에 대해 자세히 알아보세요.
불필요한 타사 도구와 스크립트를 제거합니다.
- 웹 사이트에 추가 도구를 로드하면 성능이 느려질 수도 있습니다. 웹 사이트에서 타사 도구의 양을 줄이면 일반적으로 FID 및 웹 사이트 속도를 향상시킬 수 있습니다.

### CLS 개선 방법
- 타사 페이지 요소 최소화: 페이지의 타사 요소는 페이지의 나머지 부분과 비교하여 별도의 위치에서 로드됩니다.이 때문에 페이지가 로드될 때 페이지의 레이아웃이 변경되어 약간 다른 시간에 로드될 수 있습니다.이러한 타사 요소의 사용을 최소화하면 결과적으로 레이아웃 이동 횟수가 줄어듭니다.
- 임베디드 콘텐츠를 위한 공간 예약: 광고와 같은 많은 타사 요소는 웹 사이트의 기능이나 비즈니스 모델에 필수적이며 제거할 수 없습니다.개발자는 브라우저가 실제 요소를 가져오기 전에 이러한 요소가 로드될 수 있도록 웹 페이지에 공간을 예약할 수 있습니다.
- 이미지가 최적의 크기로 로드되는지 확인: 이것은 일반적인 이미지 최적화와는 약간 다른 프로세스입니다.데스크톱 컴퓨터, 태블릿, 스마트폰은 모두 화면 크기가 다르므로 조금씩 다른 크기의 이미지가 필요합니다.브라우저가 데스크톱에 최적화된 큰 이미지를 먼저 로드한 다음 사용 중인 장치가 스마트폰이므로 모바일에 최적화된 이미지를 가져와야 하는 경우, 크기가 다른 이미지가 로드될 때 페이지의 콘텐츠가 이리저리 이동할 수 있습니다.
- 이미지 및 비디오의 높이와 너비 포함: 높이 및 너비 속성은 이미지 또는 비디오가 로드되기 전에 해당 공간을 예약할 수 있도록 브라우저에 이미지의 크기를 알려줍니다.우리의 HTML5 동영상 문서에서 동영상의 경우에 이를 어떻게 수행하는지 자세한 내용을 확인할 수 있습니다.
CSS 가로 세로 비율 상자 사용: 개발자가 가로 세로 비율을 사용하여 페이지 요소의 공간을 보존하는 데 사용할 수 있는 여러 CSS 기법이 있습니다(여기에서 자세히 알아보기).

### 핵심 웹 바이탈 측정 방법

- Chrome UX 보고서(CrUX)는 Chrome 사용자가 보고한 현장 데이터를 제공하여 사이트 소유자에게 실제 사용자가 웹 사이트를 어떻게 경험하는지에 대한 데이터를 제공합니다.
- Google Lighthouse는 CWV에 대한 실험실 지표를 제공하는 무료 도구입니다.이 제품은 성능, SEO, 접근성 등을 개선하기 위한 실행 가능한 인사이트를 제공합니다.
- Google PageSpeed Insights는 CrUX와 Lighthouse의 기능을 결합하여 CWV 및 기타 웹 바이탈에 대한 현장 및 실험실 데이터를 모두 제공합니다.사용자는 PageSpeed Insights를 사용하여 소유 여부와 관계없이 웹 사이트의 성능을 확인할 수 있습니다.다음은 PageSpeed Insights 보고서의 예시입니다.
- Google Search Console은 부분적으로 CrUX 필드 데이터를 기반으로 하며 URL 또는 URL 그룹별로 CWV 성능 데이터를 제공합니다.

## Reference
https://www.cloudflare.com/ko-kr/learning/performance/what-are-core-web-vitals/

https://meet.edg.io/kr/blog/what-is-core-web-vital/